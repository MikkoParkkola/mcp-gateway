{".class":"MypyFile","_fullname":"peft.utils.hotswap","future_import_flags":["annotations"],"is_partial_stub_package":false,"is_stub":false,"names":{".class":"SymbolTable","CONFIG_KEYS_TO_CHECK":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready","is_inferred","has_explicit_value"],"fullname":"peft.utils.hotswap.CONFIG_KEYS_TO_CHECK","name":"CONFIG_KEYS_TO_CHECK","setter_type":null,"type":{".class":"Instance","args":["peft.utils.peft_types.PeftType",{".class":"Instance","args":["builtins.str"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"Conv2d":{".class":"SymbolTableNode","cross_ref":"peft.tuners.lora.layer.Conv2d","kind":"Gdef"},"Linear":{".class":"SymbolTableNode","cross_ref":"peft.tuners.lora.layer.Linear","kind":"Gdef"},"Literal":{".class":"SymbolTableNode","cross_ref":"typing.Literal","kind":"Gdef"},"LoraConfig":{".class":"SymbolTableNode","cross_ref":"peft.tuners.lora.config.LoraConfig","kind":"Gdef"},"LoraLayer":{".class":"SymbolTableNode","cross_ref":"peft.tuners.lora.layer.LoraLayer","kind":"Gdef"},"Optional":{".class":"SymbolTableNode","cross_ref":"typing.Optional","kind":"Gdef"},"PEFT_TYPE_TO_CONFIG_MAPPING":{".class":"SymbolTableNode","cross_ref":"peft.mapping.PEFT_TYPE_TO_CONFIG_MAPPING","kind":"Gdef"},"PEFT_TYPE_TO_PREFIX_MAPPING":{".class":"SymbolTableNode","cross_ref":"peft.mapping.PEFT_TYPE_TO_PREFIX_MAPPING","kind":"Gdef"},"PeftConfig":{".class":"SymbolTableNode","cross_ref":"peft.config.PeftConfig","kind":"Gdef"},"PeftType":{".class":"SymbolTableNode","cross_ref":"peft.utils.peft_types.PeftType","kind":"Gdef"},"__annotations__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"peft.utils.hotswap.__annotations__","name":"__annotations__","setter_type":null,"type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"__doc__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"peft.utils.hotswap.__doc__","name":"__doc__","setter_type":null,"type":"builtins.str"}},"__file__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"peft.utils.hotswap.__file__","name":"__file__","setter_type":null,"type":"builtins.str"}},"__name__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"peft.utils.hotswap.__name__","name":"__name__","setter_type":null,"type":"builtins.str"}},"__package__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"peft.utils.hotswap.__package__","name":"__package__","setter_type":null,"type":"builtins.str"}},"__spec__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"peft.utils.hotswap.__spec__","name":"__spec__","setter_type":null,"type":"_frozen_importlib.ModuleSpec"}},"_convert_scalings_to_tensor":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["model"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap._convert_scalings_to_tensor","name":"_convert_scalings_to_tensor","original_first_arg":"model","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["model"],"arg_types":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_convert_scalings_to_tensor","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_get_padded_conv2d":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["lora_module","target_rank","is_lora_A"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap._get_padded_conv2d","name":"_get_padded_conv2d","original_first_arg":"lora_module","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["lora_module","target_rank","is_lora_A"],"arg_types":["torch.nn.modules.module.Module","builtins.int","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_get_padded_conv2d","ret_type":"torch.nn.modules.conv.Conv2d","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_get_padded_linear":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["lora_module","target_rank","is_lora_A"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap._get_padded_linear","name":"_get_padded_linear","original_first_arg":"lora_module","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["lora_module","target_rank","is_lora_A"],"arg_types":["torch.nn.modules.module.Module","builtins.int","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_get_padded_linear","ret_type":"torch.nn.modules.linear.Linear","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_insert_adapter_name_into_state_dict":{".class":"SymbolTableNode","cross_ref":"peft.utils.save_and_load._insert_adapter_name_into_state_dict","kind":"Gdef"},"_pad_lora_weights":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["model","target_rank"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap._pad_lora_weights","name":"_pad_lora_weights","original_first_arg":"model","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["model","target_rank"],"arg_types":["torch.nn.modules.module.Module","builtins.int"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_pad_lora_weights","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_update_scaling":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1],"arg_names":["lora_module","adapter_name","scaling"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap._update_scaling","name":"_update_scaling","original_first_arg":"lora_module","type":null}},"annotations":{".class":"SymbolTableNode","cross_ref":"__future__.annotations","kind":"Gdef"},"attrgetter":{".class":"SymbolTableNode","cross_ref":"operator.attrgetter","kind":"Gdef"},"check_hotswap_configs_compatible":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["config0","config1"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap.check_hotswap_configs_compatible","name":"check_hotswap_configs_compatible","original_first_arg":"config0","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["config0","config1"],"arg_types":["peft.config.PeftConfig","peft.config.PeftConfig"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"check_hotswap_configs_compatible","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"get_pattern_key":{".class":"SymbolTableNode","cross_ref":"peft.utils.other.get_pattern_key","kind":"Gdef"},"hotswap_adapter":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1,4],"arg_names":["model","model_name_or_path","adapter_name","torch_device","kwargs"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap.hotswap_adapter","name":"hotswap_adapter","original_first_arg":"model","type":null}},"hotswap_adapter_from_state_dict":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,1],"arg_names":["model","state_dict","adapter_name","config","parameter_prefix"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap.hotswap_adapter_from_state_dict","name":"hotswap_adapter_from_state_dict","original_first_arg":"model","type":{".class":"CallableType","arg_kinds":[0,0,0,0,1],"arg_names":["model","state_dict","adapter_name","config","parameter_prefix"],"arg_types":["torch.nn.modules.module.Module",{".class":"Instance","args":["builtins.str","torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.dict"},"builtins.str","peft.tuners.lora.config.LoraConfig","builtins.str"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"hotswap_adapter_from_state_dict","ret_type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"infer_device":{".class":"SymbolTableNode","cross_ref":"peft.utils.other.infer_device","kind":"Gdef"},"load_peft_weights":{".class":"SymbolTableNode","cross_ref":"peft.utils.save_and_load.load_peft_weights","kind":"Gdef"},"math":{".class":"SymbolTableNode","cross_ref":"math","kind":"Gdef"},"prepare_model_for_compiled_hotswap":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,5,5,5],"arg_names":["model","target_rank","config","check_compiled"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"peft.utils.hotswap.prepare_model_for_compiled_hotswap","name":"prepare_model_for_compiled_hotswap","original_first_arg":"model","type":{".class":"CallableType","arg_kinds":[0,5,5,5],"arg_names":["model","target_rank","config","check_compiled"],"arg_types":["torch.nn.modules.module.Module",{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":["peft.tuners.lora.config.LoraConfig",{".class":"Instance","args":["builtins.str","peft.tuners.lora.config.LoraConfig"],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":false},{".class":"UnionType","items":[{".class":"LiteralType","fallback":"builtins.str","value":"error"},{".class":"LiteralType","fallback":"builtins.str","value":"warn"},{".class":"LiteralType","fallback":"builtins.str","value":"ignore"}],"uses_pep604_syntax":false}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"prepare_model_for_compiled_hotswap","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"torch":{".class":"SymbolTableNode","cross_ref":"torch","kind":"Gdef"},"warnings":{".class":"SymbolTableNode","cross_ref":"warnings","kind":"Gdef"}},"path":"/Users/mikko/.claude/.venv/lib/python3.14/site-packages/peft/utils/hotswap.py"}