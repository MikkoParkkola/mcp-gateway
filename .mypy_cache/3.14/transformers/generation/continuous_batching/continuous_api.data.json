{".class":"MypyFile","_fullname":"transformers.generation.continuous_batching.continuous_api","future_import_flags":[],"is_partial_stub_package":false,"is_stub":false,"names":{".class":"SymbolTable","CompileConfig":{".class":"SymbolTableNode","cross_ref":"transformers.generation.configuration_utils.CompileConfig","kind":"Gdef"},"ContinuousBatchProcessor":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","name":"ContinuousBatchProcessor","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"transformers.generation.continuous_batching.continuous_api","mro":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0,0,0,0,0,0,0],"arg_names":["self","cache","config","generation_config","input_queue","output_queue","stop_event","model_device","model_dtype","scheduler","manual_eviction","use_cuda_graph","q_padding_intervals","kv_padding_intervals"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.__init__","name":"__init__","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0,0,0,0,0,0,0],"arg_names":["self","cache","config","generation_config","input_queue","output_queue","stop_event","model_device","model_dtype","scheduler","manual_eviction","use_cuda_graph","q_padding_intervals","kv_padding_intervals"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","transformers.generation.continuous_batching.cache.PagedAttentionCache","transformers.configuration_utils.PreTrainedConfig","transformers.generation.configuration_utils.GenerationConfig",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"queue.Queue"},{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"queue.Queue"},"threading.Event","torch._C.device","torch._C.dtype","transformers.generation.continuous_batching.scheduler.Scheduler","builtins.bool","builtins.bool","builtins.int","builtins.int"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"__init__ of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"__repr__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.__repr__","name":"__repr__","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":[null],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"__repr__ of ContinuousBatchProcessor","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_build_tensors":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0],"arg_names":["self","input_ids","position_ids","read_index","write_index","cumulative_seqlens_q","cumulative_seqlens_k","logits_indices"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._build_tensors","name":"_build_tensors","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0],"arg_names":["self","input_ids","position_ids","read_index","write_index","cumulative_seqlens_q","cumulative_seqlens_k","logits_indices"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["builtins.str",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_build_tensors of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._build_tensors","name":"_build_tensors","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_forward_process_and_sample":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0],"arg_names":["self","model","batch_data","logit_processor","do_sample"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._forward_process_and_sample","name":"_forward_process_and_sample","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0],"arg_names":["self","model","batch_data","logit_processor","do_sample"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","torch.nn.modules.module.Module",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},"transformers.generation.logits_process.LogitsProcessor","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_forward_process_and_sample of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._forward_process_and_sample","name":"_forward_process_and_sample","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_forward_process_and_sample_is_compiled":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._forward_process_and_sample_is_compiled","name":"_forward_process_and_sample_is_compiled","setter_type":null,"type":"builtins.bool"}},"_generation_step":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0],"arg_names":["self","model","logit_processor","do_sample"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._generation_step","name":"_generation_step","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0,0],"arg_names":["self","model","logit_processor","do_sample"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","torch.nn.modules.module.Module","transformers.generation.logits_process.LogitsProcessor","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_generation_step of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._generation_step","name":"_generation_step","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_get_new_requests":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._get_new_requests","name":"_get_new_requests","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_get_new_requests of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._get_new_requests","name":"_get_new_requests","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_graphs":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._graphs","name":"_graphs","setter_type":null,"type":{".class":"UnionType","items":[{".class":"Instance","args":[{".class":"TupleType","implicit":false,"items":["builtins.int","builtins.int"],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}},"torch.cuda.graphs.CUDAGraph"],"extra_attrs":null,"type_ref":"builtins.dict"},{".class":"NoneType"}],"uses_pep604_syntax":true}}},"_handle_request_error":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","error","state"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._handle_request_error","name":"_handle_request_error","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","error","state"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","builtins.Exception","transformers.generation.continuous_batching.requests.RequestState"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_handle_request_error of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._handle_request_error","name":"_handle_request_error","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_maybe_send_output":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","state"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._maybe_send_output","name":"_maybe_send_output","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","state"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","transformers.generation.continuous_batching.requests.RequestState"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_maybe_send_output of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._maybe_send_output","name":"_maybe_send_output","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_model_forward":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","model","batch_data"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._model_forward","name":"_model_forward","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","model","batch_data"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","torch.nn.modules.module.Module",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_model_forward of ContinuousBatchProcessor","ret_type":"torch._tensor.Tensor","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._model_forward","name":"_model_forward","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"_pad_inputs":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._pad_inputs","name":"_pad_inputs","setter_type":null,"type":"builtins.bool"}},"_process_logit":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0],"arg_names":["self","batch_data","logits","logit_processor"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._process_logit","name":"_process_logit","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0,0],"arg_names":["self","batch_data","logits","logit_processor"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"builtins.dict"},"torch._tensor.Tensor","transformers.generation.logits_process.LogitsProcessor"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_process_logit of ContinuousBatchProcessor","ret_type":"torch._tensor.Tensor","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._process_logit","name":"_process_logit","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"_sample":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","probs","do_sample"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._sample","name":"_sample","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","probs","do_sample"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","torch._tensor.Tensor","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_sample of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._sample","name":"_sample","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"_sync":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._sync","name":"_sync","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_sync of ContinuousBatchProcessor","ret_type":{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor._sync","name":"_sync","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"actual_batch_size":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.actual_batch_size","name":"actual_batch_size","setter_type":null,"type":"builtins.int"}},"actual_index_sizes":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.actual_index_sizes","name":"actual_index_sizes","setter_type":null,"type":{".class":"Instance","args":[{".class":"TupleType","implicit":false,"items":["builtins.int","builtins.int"],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}],"extra_attrs":null,"type_ref":"builtins.list"}}},"actual_key_length":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.actual_key_length","name":"actual_key_length","setter_type":null,"type":"builtins.int"}},"actual_query_length":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.actual_query_length","name":"actual_query_length","setter_type":null,"type":"builtins.int"}},"attention_mask":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.attention_mask","name":"attention_mask","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_of_any":7},{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"cache":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.cache","name":"cache","setter_type":null,"type":"transformers.generation.continuous_batching.cache.PagedAttentionCache"}},"compile_config":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.compile_config","name":"compile_config","setter_type":null,"type":{".class":"UnionType","items":["transformers.generation.configuration_utils.CompileConfig",{".class":"NoneType"}],"uses_pep604_syntax":true}}},"config":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.config","name":"config","setter_type":null,"type":"transformers.configuration_utils.PreTrainedConfig"}},"cumulative_seqlens_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.cumulative_seqlens_k","name":"cumulative_seqlens_k","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_of_any":7},{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"cumulative_seqlens_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.cumulative_seqlens_q","name":"cumulative_seqlens_q","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"fail_all_requests":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","error"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.fail_all_requests","name":"fail_all_requests","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","error"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","builtins.Exception"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"fail_all_requests of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.fail_all_requests","name":"fail_all_requests","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"generation_config":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.generation_config","name":"generation_config","setter_type":null,"type":"transformers.generation.configuration_utils.GenerationConfig"}},"get_model_kwargs":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1,1],"arg_names":["self","padded_q_size","padded_kv_cache_size"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.get_model_kwargs","name":"get_model_kwargs","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,1,1],"arg_names":["self","padded_q_size","padded_kv_cache_size"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","builtins.int","builtins.int"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"get_model_kwargs of ContinuousBatchProcessor","ret_type":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"handle_batch_error":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","error"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.handle_batch_error","name":"handle_batch_error","original_first_arg":"self","type":null},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.handle_batch_error","name":"handle_batch_error","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"has_pending_requests":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.has_pending_requests","name":"has_pending_requests","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"has_pending_requests of ContinuousBatchProcessor","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.has_pending_requests","name":"has_pending_requests","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"input_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.input_ids","name":"input_ids","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"input_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.input_queue","name":"input_queue","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"kv_padding_intervals":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.kv_padding_intervals","name":"kv_padding_intervals","setter_type":null,"type":"builtins.int"}},"logits_indices":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.logits_indices","name":"logits_indices","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"manual_eviction":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.manual_eviction","name":"manual_eviction","setter_type":null,"type":"builtins.bool"}},"max_batch_tokens":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.max_batch_tokens","name":"max_batch_tokens","setter_type":null,"type":"builtins.int"}},"max_seqlen_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.max_seqlen_k","name":"max_seqlen_k","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"type_of_any":7},"builtins.int"],"extra_attrs":null,"type_ref":"builtins.dict"}}},"max_seqlen_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.max_seqlen_q","name":"max_seqlen_q","setter_type":null,"type":"builtins.int"}},"metrics":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.metrics","name":"metrics","setter_type":null,"type":"transformers.utils.metrics.ContinuousBatchProcessorMetrics"}},"model_device":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.model_device","name":"model_device","setter_type":null,"type":"torch._C.device"}},"model_dtype":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.model_dtype","name":"model_dtype","setter_type":null,"type":"torch._C.dtype"}},"output_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.output_ids","name":"output_ids","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"output_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.output_queue","name":"output_queue","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"position_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.position_ids","name":"position_ids","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"prepare_next_batch":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.prepare_next_batch","name":"prepare_next_batch","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"prepare_next_batch of ContinuousBatchProcessor","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.prepare_next_batch","name":"prepare_next_batch","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"q_padding_intervals":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.q_padding_intervals","name":"q_padding_intervals","setter_type":null,"type":"builtins.int"}},"read_index":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred","invalid_partial_type"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.read_index","name":"read_index","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"extra_attrs":null,"type_ref":"builtins.list"}}},"read_index_storage":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.read_index_storage","name":"read_index_storage","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}],"extra_attrs":null,"type_ref":"builtins.list"}}},"requests_in_batch":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.requests_in_batch","name":"requests_in_batch","setter_type":null,"type":{".class":"Instance","args":["transformers.generation.continuous_batching.requests.RequestState"],"extra_attrs":null,"type_ref":"builtins.list"}}},"reset_static_tensors":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1],"arg_names":["self","full_reset"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.reset_static_tensors","name":"reset_static_tensors","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,1],"arg_names":["self","full_reset"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"reset_static_tensors of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.reset_static_tensors","name":"reset_static_tensors","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"scheduler":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.scheduler","name":"scheduler","setter_type":null,"type":"transformers.generation.continuous_batching.scheduler.Scheduler"}},"setup_static_tensors":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","num_groups"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.setup_static_tensors","name":"setup_static_tensors","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","num_groups"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","builtins.int"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"setup_static_tensors of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.setup_static_tensors","name":"setup_static_tensors","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"sliding_window":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.sliding_window","name":"sliding_window","setter_type":null,"type":{".class":"UnionType","items":["builtins.int",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"uses_pep604_syntax":false}}},"stop_event":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.stop_event","name":"stop_event","setter_type":null,"type":"threading.Event"}},"tensor_metadata":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.tensor_metadata","name":"tensor_metadata","setter_type":null,"type":{".class":"Instance","args":["builtins.str","builtins.object"],"extra_attrs":null,"type_ref":"builtins.dict"}}},"total_seqlen_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.total_seqlen_q","name":"total_seqlen_q","setter_type":null,"type":"builtins.int"}},"update_batch":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.update_batch","name":"update_batch","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"update_batch of ContinuousBatchProcessor","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.update_batch","name":"update_batch","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"write_index":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred","invalid_partial_type"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.write_index","name":"write_index","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"extra_attrs":null,"type_ref":"builtins.list"}}},"write_index_storage":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.write_index_storage","name":"write_index_storage","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}],"extra_attrs":null,"type_ref":"builtins.list"}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor.Self","id":0,"name":"Self","namespace":"","upper_bound":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"ContinuousBatchProcessorMetrics":{".class":"SymbolTableNode","cross_ref":"transformers.utils.metrics.ContinuousBatchProcessorMetrics","kind":"Gdef"},"ContinuousBatchingManager":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","name":"ContinuousBatchingManager","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"transformers.generation.continuous_batching.continuous_api","mro":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.object"],"names":{".class":"SymbolTable","__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1,1,1,1,1],"arg_names":["self","model","generation_config","manual_eviction","max_queue_size","num_q_padding_intervals","num_kv_padding_intervals","allow_prefix_sharing"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.__init__","name":"__init__","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0,1,1,1,1,1],"arg_names":["self","model","generation_config","manual_eviction","max_queue_size","num_q_padding_intervals","num_kv_padding_intervals","allow_prefix_sharing"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","torch.nn.modules.module.Module","transformers.generation.configuration_utils.GenerationConfig","builtins.bool","builtins.int","builtins.int","builtins.int","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"__init__ of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"__iter__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":[null],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.__iter__","name":"__iter__","original_first_arg":"self","type":null}},"_allow_prefix_sharing":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._allow_prefix_sharing","name":"_allow_prefix_sharing","setter_type":null,"type":"builtins.bool"}},"_decide_use_cuda_graphs":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0],"arg_names":["self","use_cuda_graph","num_q_padding_intervals","num_kv_padding_intervals","compile_config"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._decide_use_cuda_graphs","name":"_decide_use_cuda_graphs","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0],"arg_names":["self","use_cuda_graph","num_q_padding_intervals","num_kv_padding_intervals","compile_config"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"UnionType","items":["builtins.bool",{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.int","builtins.int",{".class":"UnionType","items":["transformers.generation.configuration_utils.CompileConfig",{".class":"NoneType"}],"uses_pep604_syntax":true}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_decide_use_cuda_graphs of ContinuousBatchingManager","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"_generation_step":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._generation_step","name":"_generation_step","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_generation_step of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._generation_step","name":"_generation_step","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_generation_thread":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._generation_thread","name":"_generation_thread","setter_type":null,"type":{".class":"NoneType"}}},"_handle_critical_error":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["self","error","batch_processor"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._handle_critical_error","name":"_handle_critical_error","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["self","error","batch_processor"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.Exception",{".class":"UnionType","items":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor",{".class":"NoneType"}],"uses_pep604_syntax":true}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_handle_critical_error of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._handle_critical_error","name":"_handle_critical_error","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"_inner_generation_loop":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","batch_processor"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._inner_generation_loop","name":"_inner_generation_loop","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","batch_processor"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_inner_generation_loop of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._inner_generation_loop","name":"_inner_generation_loop","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1},"type_of_any":7}}}},"_request_counter":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._request_counter","name":"_request_counter","setter_type":null,"type":"builtins.int"}},"_request_lock":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._request_lock","name":"_request_lock","setter_type":null,"type":"_thread.lock"}},"_run_generation_loop":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager._run_generation_loop","name":"_run_generation_loop","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"_run_generation_loop of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"add_request":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1,1,1,1],"arg_names":["self","input_ids","request_id","max_new_tokens","streaming","record_timestamps"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.add_request","name":"add_request","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,1,1,1,1],"arg_names":["self","input_ids","request_id","max_new_tokens","streaming","record_timestamps"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}],"uses_pep604_syntax":true},{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.bool","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"add_request of ContinuousBatchingManager","ret_type":"builtins.str","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"add_requests":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1,1,1],"arg_names":["self","inputs","max_new_tokens","streaming","record_timestamps"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.add_requests","name":"add_requests","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,1,1,1],"arg_names":["self","inputs","max_new_tokens","streaming","record_timestamps"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"Instance","args":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":["builtins.int",{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.bool","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"add_requests of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"batch_processor":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["explicit_self_type","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.batch_processor","name":"batch_processor","setter_type":null,"type":{".class":"UnionType","items":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchProcessor",{".class":"NoneType"}],"uses_pep604_syntax":true}}},"cancel_request":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","request_id"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.cancel_request","name":"cancel_request","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","request_id"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.str"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"cancel_request of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"current_batch":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.current_batch","name":"current_batch","setter_type":null,"type":"builtins.int"}},"do_sample":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.do_sample","name":"do_sample","setter_type":null,"type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.bool"],"uses_pep604_syntax":false}}},"evict_request_from_cache":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","request_id"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.evict_request_from_cache","name":"evict_request_from_cache","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","request_id"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.str"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"evict_request_from_cache of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.evict_request_from_cache","name":"evict_request_from_cache","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"generation_config":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.generation_config","name":"generation_config","setter_type":null,"type":"transformers.generation.configuration_utils.GenerationConfig"}},"get_result":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1,1],"arg_names":["self","request_id","timeout"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.get_result","name":"get_result","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,1,1],"arg_names":["self","request_id","timeout"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"UnionType","items":["builtins.str",{".class":"NoneType"}],"uses_pep604_syntax":true},{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"get_result of ContinuousBatchingManager","ret_type":{".class":"UnionType","items":["transformers.generation.continuous_batching.requests.GenerationOutput",{".class":"NoneType"}],"uses_pep604_syntax":true},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"input_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.input_queue","name":"input_queue","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"is_running":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.is_running","name":"is_running","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"is_running of ContinuousBatchingManager","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"join":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1],"arg_names":["self","stop_trigger_time","timeout"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.join","name":"join","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,1],"arg_names":["self","stop_trigger_time","timeout"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.float",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"join of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"kv_padding_intervals":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.kv_padding_intervals","name":"kv_padding_intervals","setter_type":null,"type":"builtins.int"}},"log_prob_generation":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.log_prob_generation","name":"log_prob_generation","setter_type":null,"type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.bool"],"uses_pep604_syntax":false}}},"logit_processor":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.logit_processor","name":"logit_processor","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5},"type_of_any":7}}},"manual_eviction":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.manual_eviction","name":"manual_eviction","setter_type":null,"type":"builtins.bool"}},"model":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.model","name":"model","setter_type":null,"type":"torch.nn.modules.module.Module"}},"output_queue":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.output_queue","name":"output_queue","setter_type":null,"type":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":5}],"extra_attrs":null,"type_ref":"queue.Queue"}}},"profile":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.profile","name":"profile","setter_type":null,"type":{".class":"UnionType","items":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2},"builtins.bool"],"uses_pep604_syntax":false}}},"q_padding_intervals":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.q_padding_intervals","name":"q_padding_intervals","setter_type":null,"type":"builtins.int"}},"request_id_iter":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0],"arg_names":["self","request_id"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.request_id_iter","name":"request_id_iter","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0],"arg_names":["self","request_id"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.str"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"request_id_iter of ContinuousBatchingManager","ret_type":{".class":"Instance","args":["transformers.generation.continuous_batching.requests.GenerationOutput",{".class":"NoneType"},{".class":"NoneType"}],"extra_attrs":null,"type_ref":"typing.Generator"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"start":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["self"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.start","name":"start","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["self"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"start of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.start","name":"start","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"stop":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1,1],"arg_names":["self","block","timeout"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.stop","name":"stop","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,1,1],"arg_names":["self","block","timeout"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","builtins.bool",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"stop of ContinuousBatchingManager","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"stop_event":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.stop_event","name":"stop_event","setter_type":null,"type":"threading.Event"}},"use_cuda_graph":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.use_cuda_graph","name":"use_cuda_graph","setter_type":null,"type":"builtins.bool"}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager.Self","id":0,"name":"Self","namespace":"","upper_bound":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"ContinuousMixin":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin","name":"ContinuousMixin","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin","has_param_spec_type":false,"metaclass_type":null,"metadata":{},"module_name":"transformers.generation.continuous_batching.continuous_api","mro":["transformers.generation.continuous_batching.continuous_api.ContinuousMixin","builtins.object"],"names":{".class":"SymbolTable","continuous_batching_context_manager":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1,1,1,1,1,1,1,1],"arg_names":["self","generation_config","manual_eviction","max_queue_size","num_q_cuda_graphs","num_kv_cuda_graphs","allow_prefix_sharing","block","timeout"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.continuous_batching_context_manager","name":"continuous_batching_context_manager","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,1,1,1,1,1,1,1,1],"arg_names":["self","generation_config","manual_eviction","max_queue_size","num_q_cuda_graphs","num_kv_cuda_graphs","allow_prefix_sharing","block","timeout"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousMixin",{".class":"UnionType","items":["transformers.generation.configuration_utils.GenerationConfig",{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.bool","builtins.int","builtins.int","builtins.int","builtins.bool","builtins.bool",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"continuous_batching_context_manager of ContinuousMixin","ret_type":{".class":"Instance","args":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"NoneType"},{".class":"NoneType"}],"extra_attrs":null,"type_ref":"typing.Generator"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.continuous_batching_context_manager","name":"continuous_batching_context_manager","setter_type":null,"type":{".class":"CallableType","arg_kinds":[0,1,1,1,1,1,1,1,1],"arg_names":["self","generation_config","manual_eviction","max_queue_size","num_q_cuda_graphs","num_kv_cuda_graphs","allow_prefix_sharing","block","timeout"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousMixin",{".class":"UnionType","items":["transformers.generation.configuration_utils.GenerationConfig",{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.bool","builtins.int","builtins.int","builtins.int","builtins.bool","builtins.bool",{".class":"UnionType","items":["builtins.float",{".class":"NoneType"}],"uses_pep604_syntax":true}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"continuous_batching_context_manager of ContinuousMixin","ret_type":{".class":"Instance","args":["transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager",{".class":"NoneType"},{".class":"NoneType"}],"extra_attrs":null,"type_ref":"contextlib._GeneratorContextManager"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"generate_batch":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,1,1,1,1,1,1,4],"arg_names":["self","inputs","generation_config","num_q_padding_intervals","num_kv_padding_intervals","allow_prefix_sharing","record_timestamps","progress_bar","kwargs"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_decorated","is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.generate_batch","name":"generate_batch","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,1,1,1,1,1,1,4],"arg_names":["self","inputs","generation_config","num_q_padding_intervals","num_kv_padding_intervals","allow_prefix_sharing","record_timestamps","progress_bar","kwargs"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousMixin",{".class":"Instance","args":[{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"}],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"UnionType","items":["transformers.generation.configuration_utils.GenerationConfig",{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.int","builtins.int","builtins.bool","builtins.bool","builtins.bool",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"generate_batch of ContinuousMixin","ret_type":{".class":"Instance","args":["builtins.str","transformers.generation.continuous_batching.requests.GenerationOutput"],"extra_attrs":null,"type_ref":"builtins.dict"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_initialized_in_class","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.generate_batch","name":"generate_batch","setter_type":null,"type":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":1}}}},"init_continuous_batching":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,1,1,1,1,1,1],"arg_names":["self","generation_config","manual_eviction","max_queue_size","num_q_padding_intervals","num_kv_padding_intervals","allow_prefix_sharing"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_trivial_self"],"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.init_continuous_batching","name":"init_continuous_batching","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,1,1,1,1,1,1],"arg_names":["self","generation_config","manual_eviction","max_queue_size","num_q_padding_intervals","num_kv_padding_intervals","allow_prefix_sharing"],"arg_types":["transformers.generation.continuous_batching.continuous_api.ContinuousMixin",{".class":"UnionType","items":["transformers.generation.configuration_utils.GenerationConfig",{".class":"NoneType"}],"uses_pep604_syntax":true},"builtins.bool","builtins.int","builtins.int","builtins.int","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"init_continuous_batching of ContinuousMixin","ret_type":"transformers.generation.continuous_batching.continuous_api.ContinuousBatchingManager","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin.Self","id":0,"name":"Self","namespace":"","upper_bound":"transformers.generation.continuous_batching.continuous_api.ContinuousMixin","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"FIFOScheduler":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.scheduler.FIFOScheduler","kind":"Gdef"},"GenerationConfig":{".class":"SymbolTableNode","cross_ref":"transformers.generation.configuration_utils.GenerationConfig","kind":"Gdef"},"GenerationOutput":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.requests.GenerationOutput","kind":"Gdef"},"Generator":{".class":"SymbolTableNode","cross_ref":"typing.Generator","kind":"Gdef"},"LogitsProcessor":{".class":"SymbolTableNode","cross_ref":"transformers.generation.logits_process.LogitsProcessor","kind":"Gdef"},"NUM_KV_PADDING_INTERVALS":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready","is_inferred","has_explicit_value"],"fullname":"transformers.generation.continuous_batching.continuous_api.NUM_KV_PADDING_INTERVALS","name":"NUM_KV_PADDING_INTERVALS","setter_type":null,"type":"builtins.int"}},"NUM_Q_PADDING_INTERVALS":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready","is_inferred","has_explicit_value"],"fullname":"transformers.generation.continuous_batching.continuous_api.NUM_Q_PADDING_INTERVALS","name":"NUM_Q_PADDING_INTERVALS","setter_type":null,"type":"builtins.int"}},"PagedAttentionArgs":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"TypeInfo","_promote":[],"abstract_attributes":[],"alt_promote":null,"bases":["builtins.object"],"dataclass_transform_spec":null,"declared_metaclass":null,"defn":{".class":"ClassDef","fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","name":"PagedAttentionArgs","type_vars":[]},"deletable_attributes":[],"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","has_param_spec_type":false,"metaclass_type":null,"metadata":{"dataclass":{"attributes":[{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":164,"name":"input_ids","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":165,"name":"attention_mask","type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":true}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":166,"name":"position_ids","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":167,"name":"cumulative_seqlens_q","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":168,"name":"cumulative_seqlens_k","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":169,"name":"max_seqlen_q","type":"builtins.int"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":170,"name":"max_seqlen_k","type":"builtins.int"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":171,"name":"write_index","type":{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":172,"name":"read_index","type":{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"}},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":173,"name":"logits_indices","type":"torch._tensor.Tensor"},{"alias":null,"column":4,"has_default":false,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":174,"name":"cache","type":"transformers.generation.continuous_batching.cache.PagedAttentionCache"},{"alias":null,"column":4,"has_default":true,"is_in_init":true,"is_init_var":false,"is_neither_frozen_nor_nonfrozen":false,"kw_only":false,"line":175,"name":"use_cache","type":"builtins.bool"}],"frozen":false},"dataclass_tag":{}},"module_name":"transformers.generation.continuous_batching.continuous_api","mro":["transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","builtins.object"],"names":{".class":"SymbolTable","__dataclass_fields__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_classvar","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__dataclass_fields__","name":"__dataclass_fields__","setter_type":null,"type":{".class":"Instance","args":["builtins.str",{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":2}],"extra_attrs":null,"type_ref":"dataclasses.Field"}],"extra_attrs":null,"type_ref":"builtins.dict"}},"plugin_generated":true},"__init__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,0,0,0,0,0,0,0,0,0,1],"arg_names":["self","input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","cache","use_cache"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__init__","name":"__init__","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,0,0,0,0,0,0,0,0,0,0,0,1],"arg_names":["self","input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","cache","use_cache"],"arg_types":["transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","torch._tensor.Tensor",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},"torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int",{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"},"torch._tensor.Tensor","transformers.generation.continuous_batching.cache.PagedAttentionCache","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"__init__ of PagedAttentionArgs","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__init__-redefinition":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__init__","kind":"Mdef","plugin_generated":true},"__init__-redefinition2":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__init__","kind":"Mdef","plugin_generated":true},"__match_args__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_ready","allow_incompatible_override"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__match_args__","name":"__match_args__","setter_type":null,"type":{".class":"TupleType","implicit":false,"items":[{".class":"LiteralType","fallback":"builtins.str","value":"input_ids"},{".class":"LiteralType","fallback":"builtins.str","value":"attention_mask"},{".class":"LiteralType","fallback":"builtins.str","value":"position_ids"},{".class":"LiteralType","fallback":"builtins.str","value":"cumulative_seqlens_q"},{".class":"LiteralType","fallback":"builtins.str","value":"cumulative_seqlens_k"},{".class":"LiteralType","fallback":"builtins.str","value":"max_seqlen_q"},{".class":"LiteralType","fallback":"builtins.str","value":"max_seqlen_k"},{".class":"LiteralType","fallback":"builtins.str","value":"write_index"},{".class":"LiteralType","fallback":"builtins.str","value":"read_index"},{".class":"LiteralType","fallback":"builtins.str","value":"logits_indices"},{".class":"LiteralType","fallback":"builtins.str","value":"cache"},{".class":"LiteralType","fallback":"builtins.str","value":"use_cache"}],"partial_fallback":{".class":"Instance","args":[{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.tuple"}}},"plugin_generated":true},"__match_args__-redefinition":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__match_args__","kind":"Mdef","plugin_generated":true},"__match_args__-redefinition2":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__match_args__","kind":"Mdef","plugin_generated":true},"__mypy-replace":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Decorator","func":{".class":"FuncDef","abstract_status":0,"arg_kinds":[5,5,5,5,5,5,5,5,5,5,5,5],"arg_names":["input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","cache","use_cache"],"dataclass_transform_spec":null,"deprecated":null,"flags":["is_static","is_decorated"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__mypy-replace","name":"__mypy-replace","original_first_arg":"input_ids","type":{".class":"CallableType","arg_kinds":[5,5,5,5,5,5,5,5,5,5,5,5],"arg_names":["input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","cache","use_cache"],"arg_types":["torch._tensor.Tensor",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},"torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int",{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"},"torch._tensor.Tensor","transformers.generation.continuous_batching.cache.PagedAttentionCache","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"__mypy-replace of PagedAttentionArgs","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"is_overload":false,"var":{".class":"Var","flags":["is_staticmethod","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__mypy-replace","name":"__mypy-replace","setter_type":null,"type":{".class":"CallableType","arg_kinds":[5,5,5,5,5,5,5,5,5,5,5,5],"arg_names":["input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","cache","use_cache"],"arg_types":["torch._tensor.Tensor",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},"torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int",{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"},"torch._tensor.Tensor","transformers.generation.continuous_batching.cache.PagedAttentionCache","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"__mypy-replace of PagedAttentionArgs","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"plugin_generated":true},"__mypy-replace-redefinition":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__mypy-replace","kind":"Mdef","plugin_generated":true},"__mypy-replace-redefinition2":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__mypy-replace","kind":"Mdef","plugin_generated":true},"__replace__":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,5,5,5,5,5,5,5,5,5,5,5,5],"arg_names":["self","input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","cache","use_cache"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__replace__","name":"__replace__","original_first_arg":"self","type":{".class":"CallableType","arg_kinds":[0,5,5,5,5,5,5,5,5,5,5,5,5],"arg_names":["self","input_ids","attention_mask","position_ids","cumulative_seqlens_q","cumulative_seqlens_k","max_seqlen_q","max_seqlen_k","write_index","read_index","logits_indices","cache","use_cache"],"arg_types":["transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","torch._tensor.Tensor",{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":false},"torch._tensor.Tensor","torch._tensor.Tensor","torch._tensor.Tensor","builtins.int","builtins.int",{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"},"torch._tensor.Tensor","transformers.generation.continuous_batching.cache.PagedAttentionCache","builtins.bool"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"__replace__ of PagedAttentionArgs","ret_type":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}},"plugin_generated":true},"__replace__-redefinition":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__replace__","kind":"Mdef","plugin_generated":true},"__replace__-redefinition2":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.__replace__","kind":"Mdef","plugin_generated":true},"attention_mask":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.attention_mask","name":"attention_mask","setter_type":null,"type":{".class":"UnionType","items":["torch._tensor.Tensor",{".class":"NoneType"}],"uses_pep604_syntax":true}}},"cache":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.cache","name":"cache","setter_type":null,"type":"transformers.generation.continuous_batching.cache.PagedAttentionCache"}},"cumulative_seqlens_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.cumulative_seqlens_k","name":"cumulative_seqlens_k","setter_type":null,"type":"torch._tensor.Tensor"}},"cumulative_seqlens_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.cumulative_seqlens_q","name":"cumulative_seqlens_q","setter_type":null,"type":"torch._tensor.Tensor"}},"input_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.input_ids","name":"input_ids","setter_type":null,"type":"torch._tensor.Tensor"}},"logits_indices":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.logits_indices","name":"logits_indices","setter_type":null,"type":"torch._tensor.Tensor"}},"max_seqlen_k":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.max_seqlen_k","name":"max_seqlen_k","setter_type":null,"type":"builtins.int"}},"max_seqlen_q":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.max_seqlen_q","name":"max_seqlen_q","setter_type":null,"type":"builtins.int"}},"position_ids":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.position_ids","name":"position_ids","setter_type":null,"type":"torch._tensor.Tensor"}},"read_index":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.read_index","name":"read_index","setter_type":null,"type":{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"}}},"use_cache":{".class":"SymbolTableNode","kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready","has_explicit_value"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.use_cache","name":"use_cache","setter_type":null,"type":"builtins.bool"}},"write_index":{".class":"SymbolTableNode","implicit":true,"kind":"Mdef","node":{".class":"Var","flags":["is_initialized_in_class","is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.write_index","name":"write_index","setter_type":null,"type":{".class":"Instance","args":["torch._tensor.Tensor"],"extra_attrs":null,"type_ref":"builtins.list"}}}},"self_type":{".class":"TypeVarType","default":{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":4},"fullname":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs.Self","id":0,"name":"Self","namespace":"","upper_bound":"transformers.generation.continuous_batching.continuous_api.PagedAttentionArgs","values":[],"variance":0},"slots":null,"tuple_type":null,"type_vars":[],"typeddict_type":null}},"PagedAttentionCache":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.cache.PagedAttentionCache","kind":"Gdef"},"PretrainedConfig":{".class":"SymbolTableNode","cross_ref":"transformers.configuration_utils.PretrainedConfig","kind":"Gdef"},"RequestState":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.requests.RequestState","kind":"Gdef"},"RequestStatus":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.requests.RequestStatus","kind":"Gdef"},"SCHEDULER_MAPPING":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.scheduler.SCHEDULER_MAPPING","kind":"Gdef"},"Scheduler":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.scheduler.Scheduler","kind":"Gdef"},"__annotations__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__annotations__","name":"__annotations__","setter_type":null,"type":{".class":"Instance","args":["builtins.str",{".class":"AnyType","missing_import_name":null,"source_any":null,"type_of_any":6}],"extra_attrs":null,"type_ref":"builtins.dict"}}},"__doc__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__doc__","name":"__doc__","setter_type":null,"type":"builtins.str"}},"__file__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__file__","name":"__file__","setter_type":null,"type":"builtins.str"}},"__name__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__name__","name":"__name__","setter_type":null,"type":"builtins.str"}},"__package__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__package__","name":"__package__","setter_type":null,"type":"builtins.str"}},"__spec__":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_ready"],"fullname":"transformers.generation.continuous_batching.continuous_api.__spec__","name":"__spec__","setter_type":null,"type":"_frozen_importlib.ModuleSpec"}},"attach_tracer":{".class":"SymbolTableNode","cross_ref":"transformers.utils.metrics.attach_tracer","kind":"Gdef"},"attn_mask_is_needed":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0],"arg_names":["config"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.attn_mask_is_needed","name":"attn_mask_is_needed","original_first_arg":"config","type":{".class":"CallableType","arg_kinds":[0],"arg_names":["config"],"arg_types":["transformers.configuration_utils.PreTrainedConfig"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"attn_mask_is_needed","ret_type":"builtins.bool","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"build_attention_mask":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0,1],"arg_names":["attention_mask","cumulative_seqlens_q","cumulative_seqlens_k","sliding_window"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.build_attention_mask","name":"build_attention_mask","original_first_arg":"attention_mask","type":{".class":"CallableType","arg_kinds":[0,0,0,1],"arg_names":["attention_mask","cumulative_seqlens_q","cumulative_seqlens_k","sliding_window"],"arg_types":["torch._tensor.Tensor",{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},{".class":"Instance","args":["builtins.int"],"extra_attrs":null,"type_ref":"builtins.list"},"builtins.int"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"build_attention_mask","ret_type":{".class":"NoneType"},"type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"ceil":{".class":"SymbolTableNode","cross_ref":"math.ceil","kind":"Gdef"},"contextmanager":{".class":"SymbolTableNode","cross_ref":"contextlib.contextmanager","kind":"Gdef"},"count":{".class":"SymbolTableNode","cross_ref":"itertools.count","kind":"Gdef"},"dataclass":{".class":"SymbolTableNode","cross_ref":"dataclasses.dataclass","kind":"Gdef"},"get_device_and_memory_breakdown":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.requests.get_device_and_memory_breakdown","kind":"Gdef"},"logger":{".class":"SymbolTableNode","cross_ref":"transformers.generation.continuous_batching.requests.logger","kind":"Gdef"},"logging":{".class":"SymbolTableNode","cross_ref":"logging","kind":"Gdef"},"logging_redirect_tqdm":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_suppressed_import","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.logging_redirect_tqdm","name":"logging_redirect_tqdm","setter_type":null,"type":{".class":"AnyType","missing_import_name":"transformers.generation.continuous_batching.continuous_api.logging_redirect_tqdm","source_any":null,"type_of_any":3}}},"nn":{".class":"SymbolTableNode","cross_ref":"torch.nn","kind":"Gdef"},"pad_by_intervals":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"FuncDef","abstract_status":0,"arg_kinds":[0,0,0],"arg_names":["size","max_value","nb_intervals"],"dataclass_transform_spec":null,"deprecated":null,"flags":[],"fullname":"transformers.generation.continuous_batching.continuous_api.pad_by_intervals","name":"pad_by_intervals","original_first_arg":"size","type":{".class":"CallableType","arg_kinds":[0,0,0],"arg_names":["size","max_value","nb_intervals"],"arg_types":["builtins.int","builtins.int","builtins.int"],"fallback":"builtins.function","from_concatenate":false,"implicit":false,"imprecise_arg_kinds":false,"is_bound":false,"is_ellipsis_args":false,"name":"pad_by_intervals","ret_type":"builtins.int","type_guard":null,"type_is":null,"unpack_kwargs":false,"variables":[]}}},"partial":{".class":"SymbolTableNode","cross_ref":"functools.partial","kind":"Gdef"},"perf_counter":{".class":"SymbolTableNode","cross_ref":"time.perf_counter","kind":"Gdef"},"queue":{".class":"SymbolTableNode","cross_ref":"queue","kind":"Gdef"},"threading":{".class":"SymbolTableNode","cross_ref":"threading","kind":"Gdef"},"torch":{".class":"SymbolTableNode","cross_ref":"torch","kind":"Gdef"},"tqdm":{".class":"SymbolTableNode","kind":"Gdef","node":{".class":"Var","flags":["is_suppressed_import","is_ready","is_inferred"],"fullname":"transformers.generation.continuous_batching.continuous_api.tqdm","name":"tqdm","setter_type":null,"type":{".class":"AnyType","missing_import_name":"transformers.generation.continuous_batching.continuous_api.tqdm","source_any":null,"type_of_any":3}}},"traced":{".class":"SymbolTableNode","cross_ref":"transformers.utils.metrics.traced","kind":"Gdef"}},"path":"/Users/mikko/.claude/.venv/lib/python3.14/site-packages/transformers/generation/continuous_batching/continuous_api.py"}