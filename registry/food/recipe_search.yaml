fulcrum: "1.0"
name: recipe_search
description: Search recipes by ingredients, cuisine, diet, and more using Spoonacular API. Free tier available (150 requests/day with API key).

schema:
  input:
    type: object
    properties:
      query:
        type: string
        description: Natural language search query
        examples:
          - "pasta carbonara"
          - "vegan chocolate cake"
          - "quick chicken dinner"
      ingredients:
        type: string
        description: Comma-separated ingredients to include
        examples:
          - "chicken,rice,garlic"
          - "tofu,mushroom,soy sauce"
      cuisine:
        type: string
        description: Cuisine type filter
        examples:
          - Italian
          - Japanese
          - Mexican
          - Indian
      diet:
        type: string
        description: Diet type filter
        enum: [vegetarian, vegan, gluten free, ketogenic, paleo]
      intolerances:
        type: string
        description: Comma-separated intolerances to exclude
        examples:
          - "gluten,dairy"
          - "egg,peanut"
      type:
        type: string
        description: Meal type filter
        enum: [main course, side dish, dessert, appetizer, salad, bread, breakfast, soup, snack, drink]
      maxReadyTime:
        type: integer
        description: Maximum preparation time in minutes
        examples:
          - 30
          - 60
      number:
        type: integer
        description: Number of results (max 100)
        default: 10
        maximum: 100
    required: []
  output:
    type: object
    properties:
      results:
        type: array
        items:
          type: object
          properties:
            id:
              type: integer
            title:
              type: string
            image:
              type: string
            imageType:
              type: string
            readyInMinutes:
              type: integer
            servings:
              type: integer
            sourceUrl:
              type: string
            summary:
              type: string
      offset:
        type: integer
      number:
        type: integer
      totalResults:
        type: integer

providers:
  primary:
    service: rest
    cost_per_call: 0
    timeout: 15
    config:
      base_url: https://api.spoonacular.com
      path: /recipes/complexSearch
      method: GET
      headers:
        Accept: "application/json"
      params:
        query: "{query}"
        includeIngredients: "{ingredients}"
        cuisine: "{cuisine}"
        diet: "{diet}"
        intolerances: "{intolerances}"
        type: "{type}"
        maxReadyTime: "{maxReadyTime}"
        number: "{number}"
        addRecipeInformation: "true"
        apiKey: "{env.SPOONACULAR_API_KEY}"

cache:
  strategy: semantic
  ttl: 86400

auth:
  required: true
  type: api_key
  key: SPOONACULAR_API_KEY
  param: apiKey
  notes: Free tier at https://spoonacular.com/food-api (150/day)

metadata:
  category: food
  tags:
    - recipes
    - cooking
    - food
    - ingredients
    - diet
    - nutrition
  cost_category: free
  execution_time: fast
  read_only: true
  rate_limit:
    free: 150/day
    paid: varies
  notes: |
    Free tier: 150 requests/day
    Sign up at https://spoonacular.com/food-api
