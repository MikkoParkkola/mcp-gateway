fulcrum: "1.0"
name: reddit_search
description: Search Reddit posts and comments across subreddits with sorting and time filters. Free, no API key required.

schema:
  input:
    type: object
    properties:
      query:
        type: string
        description: Search query
      subreddit:
        type: string
        description: Limit to specific subreddit (without r/ prefix)
      sort:
        type: string
        enum: [relevance, hot, top, new, comments]
        description: "Sort order (default: relevance)"
      time:
        type: string
        enum: [hour, day, week, month, year, all]
        description: "Time filter (default: all)"
      limit:
        type: integer
        description: "Number of results (default: 25, max: 100)"
    required: [query]
  output:
    type: object
    properties:
      posts:
        type: array
        items:
          type: object
          properties:
            title:
              type: string
              description: Post title
            subreddit:
              type: string
              description: Subreddit name
            author:
              type: string
              description: Author username
            score:
              type: integer
              description: Upvote score
            num_comments:
              type: integer
              description: Number of comments
            url:
              type: string
              description: Post URL
            selftext:
              type: string
              description: Post body text (for text posts)
            created_utc:
              type: number
              description: Creation timestamp
            permalink:
              type: string
              description: Reddit permalink

providers:
  primary:
    service: rest
    cost_per_call: 0
    timeout: 30
    config:
      base_url: https://www.reddit.com
      path: /search.json
      method: GET
      headers:
        User-Agent: "MCPGateway/1.0"
        Accept: "application/json"
      params:
        q: "{query}"
        restrict_sr: "{subreddit}"
        sort: "{sort}"
        t: "{time}"
        limit: "{limit}"

cache:
  strategy: exact
  ttl: 300

auth:
  required: false
  type: none

metadata:
  category: search
  tags:
    - search
    - reddit
    - social
    - community
    - forums
    - free
  cost_category: free
  execution_time: fast
  read_only: true
