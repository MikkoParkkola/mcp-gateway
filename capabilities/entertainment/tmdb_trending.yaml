fulcrum: "1.0"
name: tmdb_trending
description: Get trending movies and TV shows from The Movie Database (TMDB). Free API key required.

schema:
  input:
    type: object
    properties:
      media_type:
        type: string
        description: Type of media to get trending
        enum: [movie, tv, all]
        default: all
      time_window:
        type: string
        description: Time window for trending
        enum: [day, week]
        default: week
      language:
        type: string
        description: ISO 639-1 language code for results
        default: en-US
      page:
        type: integer
        description: Page number
        default: 1
    required: []
  output:
    type: object
    properties:
      page:
        type: integer
      total_results:
        type: integer
      total_pages:
        type: integer
      results:
        type: array
        items:
          type: object
          properties:
            id:
              type: integer
            title:
              type: string
              description: Movie title
            name:
              type: string
              description: TV show name
            overview:
              type: string
            release_date:
              type: string
            first_air_date:
              type: string
            vote_average:
              type: number
            vote_count:
              type: integer
            popularity:
              type: number
            poster_path:
              type: string
            backdrop_path:
              type: string
            media_type:
              type: string
              description: movie or tv

providers:
  primary:
    service: tmdb
    cost_per_call: 0.0
    timeout: 10
    config:
      endpoint: https://api.themoviedb.org/3/trending/{media_type}/{time_window}
      method: GET
      param_map:
        language: language
        page: page

cache:
  strategy: exact
  ttl: 1800  # 30 min - trending changes

auth:
  required: true
  type: api_key
  key: TMDB_API_KEY
  param: api_key
  notes: Free API key from https://www.themoviedb.org/settings/api

metadata:
  category: entertainment
  tags: [movies, tv-shows, tmdb, trending, popular, entertainment]
  cost_category: free
  execution_time: fast
  read_only: true
