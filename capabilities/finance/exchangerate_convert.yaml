fulcrum: "1.0"
name: exchangerate_convert
description: Convert between currencies using ExchangeRate-API. Supports 161 currencies with daily updated rates.

schema:
  input:
    type: object
    properties:
      from:
        type: string
        description: Source currency code (ISO 4217)
        examples:
          - "USD"
          - "EUR"
          - "GBP"
      to:
        type: string
        description: Target currency code
        examples:
          - "EUR"
          - "JPY"
          - "SEK"
      amount:
        type: number
        description: Amount to convert
        default: 1
    required:
      - from
      - to
  output:
    type: object
    properties:
      result:
        type: string
        enum: [success, error]
      base_code:
        type: string
      target_code:
        type: string
      conversion_rate:
        type: number
      conversion_result:
        type: number
      time_last_update_utc:
        type: string

providers:
  primary:
    service: rest
    cost_per_call: 0
    timeout: 10
    config:
      base_url: https://v6.exchangerate-api.com
      path: /v6/{env.EXCHANGERATE_API_KEY}/pair/{from}/{to}/{amount}
      method: GET
      headers:
        Accept: "application/json"

cache:
  strategy: exact
  ttl: 3600  # Rates update daily

auth:
  required: true
  type: api_key
  key: EXCHANGERATE_API_KEY
  description: Get API key from https://www.exchangerate-api.com/

metadata:
  category: finance
  tags:
    - finance
    - currency
    - exchange-rate
    - conversion
  cost_category: free
  execution_time: fast
  read_only: true
  rate_limit: 1500 req/month (free)
  docs: https://www.exchangerate-api.com/docs/standard-requests
