fulcrum: "1.0"
name: brave_news
description: News search from trusted outlets with freshness and country filtering

schema:
  input:
    type: object
    properties:
      query:
        type: string
        description: News search query (supports "exact phrase", -exclude, site:domain.com)
      count:
        type: integer
        description: Number of results to return (max 50)
        default: 20
        maximum: 50
      offset:
        type: integer
        description: Pagination offset (0-based, max 9)
        default: 0
        maximum: 9
      country:
        type: string
        description: Country code for localized news
        default: US
      search_lang:
        type: string
        description: Search language (ISO 639-1 code)
        default: en
      ui_lang:
        type: string
        description: UI language for response metadata
        default: en-US
      freshness:
        type: string
        description: Time filter for results
        enum: [pd, pw, pm, py]
        # pd=24h, pw=7d, pm=31d, py=1y
      safesearch:
        type: string
        description: Adult content filtering level
        enum: [off, moderate, strict]
        default: moderate
      spellcheck:
        type: boolean
        description: Enable automatic spellcheck correction
        default: true
      goggles_id:
        type: string
        description: Goggles URL for custom source re-ranking
      extra_snippets:
        type: boolean
        description: Include up to 5 additional snippets per result (AI/Data plans)
        default: false
    required: [query]
  output:
    type: object
    properties:
      query:
        type: object
        properties:
          original:
            type: string
          altered:
            type: string
          more_results_available:
            type: boolean
      results:
        type: array
        items:
          type: object
          properties:
            title:
              type: string
            url:
              type: string
            description:
              type: string
            extra_snippets:
              type: array
              items:
                type: string
            age:
              type: string
              description: Article age (e.g., "2 hours ago")
            source:
              type: string
              description: News outlet name
            thumbnail:
              type: object
              properties:
                src:
                  type: string
            meta_url:
              type: object
              properties:
                favicon:
                  type: string

providers:
  primary:
    service: brave
    cost_per_call: 0.003
    timeout: 15
    config:
      endpoint: https://api.search.brave.com/res/v1/news/search
      method: GET
      param_map:
        query: q

cache:
  strategy: exact
  ttl: 900  # 15 min - news is time-sensitive

auth:
  required: true
  type: api_key
  key: BRAVE_BASE_API_KEY
  header: X-Subscription-Token

metadata:
  category: search
  tags: [search, news, brave, current-events, media]
  cost_category: cheap
  execution_time: fast
  read_only: true
  notes: |
    - Specialized news index from trusted outlets worldwide
    - Freshness filtering: pd (24h), pw (7d), pm (31d), py (1y)
    - Custom date ranges: 2022-04-01to2022-07-30
    - Goggles support for boosting/demoting specific news sources
    - Extra snippets available on AI/Data plans
