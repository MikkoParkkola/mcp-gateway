fulcrum: "1.0"
name: brave_search
description: Web search using Brave's independent search index with 30B+ pages

schema:
  input:
    type: object
    properties:
      query:
        type: string
        description: Search query (supports operators like "exact phrase", -exclude, site:domain.com, filetype:pdf)
      count:
        type: integer
        description: Number of results to return (max 20)
        default: 10
        maximum: 20
      offset:
        type: integer
        description: Pagination offset (0-based, max 9)
        default: 0
        maximum: 9
      country:
        type: string
        description: Country code for localized results (e.g., US, GB, DE)
        default: US
      search_lang:
        type: string
        description: Search language (ISO 639-1 code)
        default: en
      ui_lang:
        type: string
        description: UI language for response metadata
        default: en-US
      freshness:
        type: string
        description: Time filter for results
        enum: [pd, pw, pm, py]
        # pd=24h, pw=7d, pm=31d, py=1y
      safesearch:
        type: string
        description: Adult content filtering level
        enum: [off, moderate, strict]
        default: moderate
      spellcheck:
        type: boolean
        description: Enable automatic spellcheck correction
        default: true
      goggles_id:
        type: string
        description: Goggles URL or inline definition for custom re-ranking
      extra_snippets:
        type: boolean
        description: Include up to 5 additional snippets per result (AI/Data plans)
        default: false
      summary:
        type: boolean
        description: Request AI summarizer key (Pro AI plan)
        default: false
    required: [query]
  output:
    type: object
    properties:
      query:
        type: object
        properties:
          original:
            type: string
          altered:
            type: string
          spellcheck_off:
            type: boolean
          more_results_available:
            type: boolean
      web:
        type: object
        properties:
          results:
            type: array
            items:
              type: object
              properties:
                title:
                  type: string
                url:
                  type: string
                description:
                  type: string
                extra_snippets:
                  type: array
                  items:
                    type: string
                age:
                  type: string
      news:
        type: object
        description: News cluster results if available
      videos:
        type: object
        description: Video cluster results if available
      locations:
        type: object
        description: Location results for local queries
      infobox:
        type: object
        description: Knowledge panel information
      discussions:
        type: object
        description: Forum/discussion results
      faq:
        type: object
        description: FAQ results
      summarizer:
        type: object
        description: Summarizer key for AI answers (when summary=true)

providers:
  primary:
    service: brave
    cost_per_call: 0.003
    timeout: 15
    config:
      endpoint: https://api.search.brave.com/res/v1/web/search
      method: GET
      param_map:
        query: q

cache:
  strategy: semantic
  ttl: 3600
  similarity_threshold: 0.85

auth:
  required: true
  type: api_key
  key: BRAVE_BASE_API_KEY
  header: X-Subscription-Token

metadata:
  category: search
  tags: [search, web, brave, independent-index]
  cost_category: cheap
  execution_time: fast
  read_only: true
  rate_limit:
    free: 1
    base: 20
    pro: 50
  notes: |
    Pricing tiers:
    - Free: $0 (2,000 queries/month, 1 req/sec)
    - Base: $3/1000 requests (20M queries/month, 20 req/sec)
    - Pro: $5/1000 requests (unlimited, 50 req/sec)
    - AI plans available with extra_snippets and summary features
