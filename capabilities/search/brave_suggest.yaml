fulcrum: "1.0"
name: brave_suggest
description: Real-time query autocompletion and suggestions (FREE on all plans)

schema:
  input:
    type: object
    properties:
      query:
        type: string
        description: Partial query text for autocomplete suggestions
      country:
        type: string
        description: Country code for localized suggestions
        default: US
      lang:
        type: string
        description: Language for suggestions (ISO 639-1)
        default: en
      rich:
        type: boolean
        description: Include enhanced metadata (titles, descriptions, images) - requires paid plan
        default: false
    required: [query]
  output:
    type: object
    properties:
      query:
        type: string
        description: Original partial query
      results:
        type: array
        items:
          type: object
          properties:
            query:
              type: string
              description: Suggested completion
            is_entity:
              type: boolean
              description: Whether suggestion represents a specific entity
            # Rich fields (paid plans only):
            title:
              type: string
              description: Entity title (rich mode)
            description:
              type: string
              description: Entity description (rich mode)
            img:
              type: string
              description: Entity image URL (rich mode)

providers:
  primary:
    service: brave
    cost_per_call: 0
    timeout: 5
    config:
      endpoint: https://api.search.brave.com/res/v1/suggest/search
      method: GET
      param_map:
        query: q

cache:
  strategy: exact
  ttl: 300

auth:
  required: true
  type: api_key
  key: BRAVE_API_KEY
  header: X-Subscription-Token

metadata:
  category: search
  tags: [search, autocomplete, suggest, brave, free]
  cost_category: free
  execution_time: fast
  read_only: true
  notes: |
    - FREE on all plans (no cost per request)
    - Typo-resilient suggestions
    - Entity detection identifies when suggestions represent specific entities
    - Rich mode (paid plans) adds titles, descriptions, and images
    - Best practice: Debounce requests (150-300ms) to avoid excessive calls
    - Ideal for search box autocomplete functionality
