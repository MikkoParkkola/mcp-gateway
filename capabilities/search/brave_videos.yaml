fulcrum: "1.0"
name: brave_videos
description: Video search across multiple platforms with freshness filtering

schema:
  input:
    type: object
    properties:
      query:
        type: string
        description: Video search query (supports operators like "exact phrase", site:youtube.com)
      count:
        type: integer
        description: Number of results to return (max 50)
        default: 20
        maximum: 50
      offset:
        type: integer
        description: Pagination offset (0-based, max 9)
        default: 0
        maximum: 9
      country:
        type: string
        description: Country code for localized results
        default: US
      search_lang:
        type: string
        description: Search language (ISO 639-1 code)
        default: en
      ui_lang:
        type: string
        description: UI language for response metadata
        default: en-US
      freshness:
        type: string
        description: Time filter for results
        enum: [pd, pw, pm, py]
        # pd=24h, pw=7d, pm=31d, py=1y
      safesearch:
        type: string
        description: Adult content filtering level
        enum: [off, moderate, strict]
        default: moderate
      spellcheck:
        type: boolean
        description: Enable automatic spellcheck correction
        default: true
    required: [query]
  output:
    type: object
    properties:
      query:
        type: object
        properties:
          original:
            type: string
          altered:
            type: string
      results:
        type: array
        items:
          type: object
          properties:
            title:
              type: string
            url:
              type: string
              description: Video page URL
            description:
              type: string
            thumbnail:
              type: object
              properties:
                src:
                  type: string
            age:
              type: string
              description: How old the video is
            duration:
              type: string
              description: Video length
            creator:
              type: string
              description: Channel/creator name
            publisher:
              type: string
              description: Platform (YouTube, Vimeo, etc.)
            views:
              type: string
              description: View count if available

providers:
  primary:
    service: brave
    cost_per_call: 0.003
    timeout: 15
    config:
      endpoint: https://api.search.brave.com/res/v1/videos/search
      method: GET
      param_map:
        query: q

cache:
  strategy: exact
  ttl: 1800

auth:
  required: true
  type: api_key
  key: BRAVE_API_KEY
  header: X-Subscription-Token

metadata:
  category: search
  tags: [search, videos, brave, youtube, multimedia]
  cost_category: cheap
  execution_time: fast
  read_only: true
  notes: |
    - Searches across multiple video platforms (YouTube, Vimeo, etc.)
    - Freshness filtering available: pd (24h), pw (7d), pm (31d), py (1y)
    - Custom date ranges supported: 2022-04-01to2022-07-30
    - Use site:youtube.com for platform-specific searches
