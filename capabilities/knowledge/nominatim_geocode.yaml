fulcrum: "1.0"
name: nominatim_geocode
description: Geocode addresses to coordinates using OpenStreetMap Nominatim. Free, no API key required. Supports worldwide addresses.

schema:
  input:
    type: object
    properties:
      query:
        type: string
        description: Address or place name to geocode
        examples:
          - "Mannerheimintie 1, Helsinki"
          - "Dam Square, Amsterdam"
          - "1600 Pennsylvania Avenue, Washington DC"
      format:
        type: string
        default: jsonv2
        enum: [json, jsonv2, geojson, geocodejson]
      limit:
        type: integer
        description: Maximum results
        default: 5
      countrycodes:
        type: string
        description: Comma-separated country codes to restrict search
        examples:
          - "fi"
          - "nl,be"
      language:
        type: string
        description: Preferred language for results
        default: en
    required:
      - query
  output:
    type: array
    items:
      type: object
      properties:
        place_id:
          type: integer
        licence:
          type: string
        osm_type:
          type: string
        osm_id:
          type: integer
        lat:
          type: string
        lon:
          type: string
        display_name:
          type: string
        address:
          type: object
          properties:
            house_number:
              type: string
            road:
              type: string
            city:
              type: string
            state:
              type: string
            postcode:
              type: string
            country:
              type: string
            country_code:
              type: string
        boundingbox:
          type: array
        importance:
          type: number

providers:
  primary:
    service: rest
    cost_per_call: 0
    timeout: 10
    config:
      base_url: https://nominatim.openstreetmap.org
      path: /search
      method: GET
      headers:
        User-Agent: "Fulcrum-MCP/1.0 (https://github.com/MikkoParkkola/fulcrum)"
        Accept: "application/json"
      params:
        q: "{q}"
        format: "json"
        limit: "{limit}"
        addressdetails: "1"

cache:
  strategy: exact
  ttl: 604800

auth:
  required: false
  type: none

metadata:
  category: location
  tags:
    - geocoding
    - maps
    - openstreetmap
    - nominatim
    - address
    - coordinates
  cost_category: free
  execution_time: fast
  read_only: true
  rate_limit: 1 req/sec (respect OSM)
  docs: https://nominatim.org/release-docs/latest/api/Search/
