fulcrum: "1.0"
name: open_library_book
description: Search books and get metadata from Open Library - the world's largest open book catalog. Get titles, authors, covers, editions, and subjects.

schema:
  input:
    type: object
    properties:
      query:
        type: string
        description: Search query (title, author, or subject)
        examples:
          - "the lord of the rings"
          - "author:tolkien"
          - "subject:artificial intelligence"
      isbn:
        type: string
        description: ISBN to lookup directly
        examples:
          - "9780261102385"
      limit:
        type: integer
        description: Maximum results
        default: 10
  output:
    type: object
    properties:
      numFound:
        type: integer
      docs:
        type: array
        items:
          type: object
          properties:
            key:
              type: string
            title:
              type: string
            author_name:
              type: array
            first_publish_year:
              type: integer
            isbn:
              type: array
            subject:
              type: array
            cover_i:
              type: integer
              description: Cover ID for https://covers.openlibrary.org/b/id/{cover_i}-L.jpg

providers:
  primary:
    service: rest
    cost_per_call: 0
    timeout: 15
    config:
      base_url: https://openlibrary.org
      path: /search.json
      method: GET
      headers:
        Accept: "application/json"
      params:
        q: "{query}"
        isbn: "{isbn}"
        limit: "{limit}"

cache:
  strategy: exact
  ttl: 86400

auth:
  required: false
  type: none

metadata:
  category: media
  tags:
    - books
    - library
    - isbn
    - literature
    - open-library
  cost_category: free
  execution_time: fast
  read_only: true
  docs: https://openlibrary.org/developers/api
